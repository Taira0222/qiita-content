---
title: 【ネットワーク】DHCP
tags:
  - Network
  - 初心者
  - DHCP
  - 未経験エンジニア
  - 独学
private: false
updated_at: '2025-04-22T12:01:34+09:00'
id: 5af070c4f88af7ae7890
organization_url_name: null
slide: false
ignorePublish: false
---
# はじめに

こんにちは。アメリカに住みながら、独学でエンジニアを目指しているTairaです。
今回は、ネットワークの基本用語であるDHCPについてNAPTとの違いに触れながら記事を書いていきたいと思います

## DHCPとは？

DHCP（Dynamic Host Configuration Protocol）は、IPアドレスやネットワーク設定を自動的に割り当てる仕組みです。

ネットワークに新しく端末（PC、スマホ、プリンタなど）が接続されたときに、DHCPサーバーが以下のような情報を自動で配ってくれます：

- IPアドレス（例：192.168.1.20）
- サブネットマスク（例：255.255.255.0）
- デフォルトゲートウェイ（例：192.168.1.1）
- DNSサーバー（例：8.8.8.8）

これにより、ユーザーが設定を手動で行う必要がなくなります。

## DHCPの通信の流れ（4ステップ）

1. Discover：端末が「IPアドレスくれませんか？」とネットワーク全体にブロードキャスト
2. Offer：DHCPサーバーが「このIPアドレスどうですか？」と提案
3. Request：「そのIPアドレスもらいます」と応答
4. ACK：DHCPサーバーが「どうぞ」と割り当てを承認

## NAPTとは？

一方、NAPT（Network Address and Port Translation）は、複数の端末が1つのグローバルIPアドレスを共有してインターネットにアクセスする技術です。
別名「IPマスカレード」とも呼ばれます。

たとえば、家庭内にあるPCやスマホはそれぞれDHCPでプライベートIPアドレスを割り当てられていますが、インターネットとやりとりする際には、ルーターのグローバルIPアドレスで通信します。

このときNAPTは、IPアドレスとポート番号の組み合わせで通信元を識別し、それぞれの端末に戻るように情報を変換しています。

## DHCPとNAPTの違い

| 項目 | DHCP | NAPT |
|------|------|------|
| 役割 | IPアドレスなどの割り当て | グローバルIPを複数端末で共有する変換技術 |
| 主な対象 | プライベートネットワーク内の端末 | インターネットとの境界（ルーター） |
| 使用タイミング | 端末がネットワークに接続したとき | 端末がインターネット通信をするとき |
| 扱うIP | プライベートIPアドレス | グローバルIPアドレスとの変換 |

## まとめ

- DHCP：ネットワーク内の端末に、IPアドレスなどの設定を自動配布する仕組み。
- NAPT：複数の端末が1つのグローバルIPアドレスを共有できるように変換する仕組み。
- 違い：DHCPは“割り当て”、NAPTは“変換”が役割。


