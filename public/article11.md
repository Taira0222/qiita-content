---
title: 【Ruby】ifとcaseの使い分けについて
tags:
  - Ruby
  - case
  - if文
  - 未経験エンジニア
  - 未経験からWeb系
private: false
updated_at: '2024-10-21T14:14:17+09:00'
id: 06df5ceb741a351a042e
organization_url_name: null
slide: false
ignorePublish: false
---
# はじめに
progateで`Ruby`を勉強したのち「ゼロからわかるRuby超入門」を勉強しています。
本書では`if`と`case`の使い分けについて「3つ以上の分岐の場合は`case`を使う」と記載がありました。
ですが`if`にも`elsif`があるので`case`を使用しなくても可読性落ちることがないのでは？と思い記事にしてみようと思いました。
# caseとは
`case`は特定の変数や値に対して、複数の候補の中から一致するものを見つけるために使います。
`case`を使うことで、同じ値に対して複数のパターンを簡潔に記述でき、コードが読みやすくなります。
基本構文は以下の通りです
```ruby:case1.rb
case 変数
when 値1
  # 値1と一致した場合に実行されるコード
when 値2
  # 値2と一致した場合に実行されるコード
else
  # どれにも一致しない場合に実行されるコード
end
```
## ifとcaseの違いは
`if`は、複雑な条件式や比較演算、範囲指定が必要な場合に向いています。
一方`case`は、特定の値やパターンに基づいて処理を切り替える場合に向いています。
### if文
if文は複雑な条件式や比較演算、範囲指定が必要な場合に向いていると書きましたが具体例を見てみましょう
```ruby:if.ruby
age = 25

if age < 18
  puts "未成年"
elsif age >= 18 && age <= 65
  puts "成人"
else
  puts "高齢者"
end
```
この例では、年齢に基づいて「未成年」「成人」「高齢者」に分類しています。`if`文は、範囲指定や論理演算子（`&&`など）を使って、条件を柔軟に設定できるので、複雑な条件判断に向いています。

### case文
上記同様に具体例を見てみましょう
```ruby:case2.rb
drink = "カフェラテ"

case drink
when "カフェラテ"
  puts "カフェラテを注文しました"
when "コーヒー"
  puts "コーヒーを注文しました"
when "紅茶"
  puts "紅茶を注文しました"
else
  puts "メニューにない飲み物です"
end
```
この例では、飲み物の種類に応じて異なる処理を行っています。
`case`文は、特定の値に基づいた分岐を効率的に表現でき、条件が多い場合でも読みやすいコードになります。


一方でこんな意見もあると思います。「`case`文でも範囲指定の文書けるでしょ。」
おっしゃる通りです。
では、`if`文で使用したコードをcase文で書き直してみましょう
```ruby:case3.rb
age = 25
case age 
when 0...18
    puts "未成年"
when 18..65
    puts "成人"
else
    puts "高齢者"
end
```
`0...18`は0以上18<strong>未満</strong>を表します
`18..65`は18以上65<strong>以下</strong>を表します

この場合直観的に`if`と`case`どっちかというと`if`文のほうがわかりやすいと思います。

# まとめ
本日は`if`文と`case`文の違いについて触れてみました。
まとめると
`if`文...複雑な条件式や比較演算、<strong>範囲指定</strong>が必要な場合
`case`文...<strong>特定の値やパターンに</strong>基づいて処理を切り替える場合

