---
title: 【ネットワーク】CDN
tags:
  - Network
  - 初心者
  - CDN
  - 未経験エンジニア
  - 独学
private: false
updated_at: '2025-04-27T12:07:01+09:00'
id: 47445904ca83cc70ae5a
organization_url_name: null
slide: false
ignorePublish: false
---
# はじめに

こんにちは。アメリカに住みながら、独学でエンジニアを目指しているTairaです。

現在インターネットの知識の確認するインターネットクイズを定期的にやっているのですが、そこで出てきたCDNについて説明していきたいと思います。

---

## CDNとは？

CDN（Content Delivery Network）は、Webサイトのコンテンツ（画像、JS、CSSなど）を世界中のユーザーに高速・安全に配信するための分散型ネットワークです。世界各地に配置されたエッジサーバーを通じて、ユーザーの近くからデータを届ける仕組みです。

---

## なぜCDNの理解が重要なのか？

CDNは、モダンなWebアプリ開発においてインフラの一部として不可欠な存在です。以下の理由から、ソフトウェアエンジニアにとってCDNの理解はとても重要です。

- **表示速度とユーザー体験の向上**：ページ表示が早くなることでUXが改善され、直帰率の低下やコンバージョン率の向上が期待できます。
-  **スケーラビリティの確保**：トラフィックが集中してもCDNが分散して処理するため、アプリ全体の耐久性が高まります。
-  **グローバル対応**：海外ユーザーにも快適に利用してもらうためには、エッジサーバーを通じた配信が不可欠です。
-  **セキュリティと可用性の強化**：DDoS攻撃の緩和やWAF（Web Application Firewall）との連携によって、信頼性の高いサービス提供が可能になります。

---

## RailsやReactアプリでのCDN活用例

RailsやRails + Reactの開発では、以下のような場面でCDNが活用されます：

- 画像・動画など静的ファイルの高速配信（例：S3 + CloudFront）
- JavaScriptやCSSなどビルドされたアセットの配信
- トップページや商品一覧など、更新頻度が低いページの一部キャッシュ
- APIレスポンスの一部キャッシュ（読み取り専用の情報など）

---

## CDN導入時のポイント

以下の点を押さえておくと、CDN導入時に混乱せずに済みます。

### 1. アセットの準備とCDNへの配置

RailsやReactでビルドした静的ファイルは、CDNが読み込める場所（例：S3など）に配置する必要があります。

### 2. アプリケーションでCDNを指定

Railsでは `config.asset_host` にCDNのURLを指定することで、出力されるタグがCDN経由になります。

### 3. キャッシュの更新対策

ファイル名にハッシュを付けることで、CDNに古いファイルが残る問題を防ぎます（Railsは自動で対応）。

### 4. API連携時のCORS対応

ReactとRails APIを組み合わせる場合、オリジンが異なるとエラーになるため、CORSの設定が必要です。

---

## よくある構成図

```
[ユーザー]
     ↓
CloudFront（CDN） ← JS/CSS/画像 → S3
     ↓
Railsサーバー（動的処理） ← API → DB
```

---

## まとめ

CDNを活用することで、Webアプリケーションのパフォーマンス、スケーラビリティ、セキュリティを大幅に向上させることが可能です。特にRailsやReactのようなモダンな技術を使った開発では、初期の段階からCDNの設計を意識することで、以下のようなメリットを享受できます。

- 表示速度とユーザー体験の向上

- スケーラビリティの確保

- グローバル対応

- セキュリティと可用性の強化
